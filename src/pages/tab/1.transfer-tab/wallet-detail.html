<!--
  Generated template for the WalletDetailPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header no-border>
    <ion-navbar border-bottom>
        <ion-title>{{wallet.item | assetName}}</ion-title>
    </ion-navbar>
    <div align="right" style="margin: 0% 3% 3% 0">
        <ion-label>
            {{wallet | assetFormat}}
        </ion-label>
        <ion-label>
            {{wallet | assetToUSD}}
        </ion-label>
    </div>
    <ion-label style="margin: 0 0 3% 3%"> > <span translate>TransactionHistory</span></ion-label>
</ion-header>
<ion-content>
    <ion-list *ngIf="histories && histories[0]" padding-horizontal>
            <!-- <div style="display:flex; justify-content: space-between">
                <div>{{history.type}}</div>
                <div style="flex-basis: 40%; text-align: right">{{history.item | assetFormat}}</div>
                <div>{{history.date | date: 'MMM dd, yyyy'}}</div>
            </div> -->
            <!-- <div item-start style="width: 20%">{{history.type}}</div>
            <div align="right" style="text-align: right; margin: 0 9% 0 0">{{history.context | assetFormat}}</div>
            <div item-end>{{history.date | date: 'MMM dd, yyyy'}}</div> -->
            <button ion-item  padding-left *ngFor="let history of histories" (click)="onExploreTransaction(history.id)">
                <div item-start item-width="20%">{{history.type | titlecase | translate}}</div>
                <div item-content item-width="50%" text-right style="padding: 0 5% 0 0">{{history.context | assetFormat}}</div>
                <div item-end item-width="30%" style="margin: 0">{{history.date | date: 'MMM dd, yyyy'}}</div>
            </button>
    </ion-list>
    <ion-infinite-scroll (ionInfinite)="doInfinite($event)">
        <ion-infinite-scroll-content loadingSpinner="bubbles" loadingText="more Transactions ..."></ion-infinite-scroll-content>
    </ion-infinite-scroll>
</ion-content>

<ion-spinner *ngIf="isLoading" name="crescent" style="position: absolute; left: 40%; bottom: 45%; width: 20%; height: 20%; z-index: 1"></ion-spinner>
<ion-footer *ngIf="!isNCH" style="padding: 20px 0;">
    <div align="middle">
        <ion-buttons *ngIf="!isNCH">
            <button ion-button (click)="onBuyAsset()" style="width: 30%">
                <ion-label><span translate>Buy</span> NCH</ion-label>
            </button>
            <button ion-button (click)="onLoanAsset()" style="width: 30%">
                <ion-label><span translate>Loan</span> NCH</ion-label>
            </button>
        </ion-buttons>
    </div>
</ion-footer>
